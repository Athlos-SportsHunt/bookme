{% extends "host/base.html" %}
{% load static %}

{% block title %}Dashboard | SportsHunt{% endblock %}

{% block imports_block %}
<link rel="stylesheet" href="{% static 'css/host/pages/dashboard.css' %}">
{% endblock imports_block %}

{% block content %}
<div class="container">
    <!-- Header Section -->
    <header class="header">
        <h1>Welcome to your Dashboard, <span class="username">{{ user.username }}</span></h1>
    </header>

    <!-- Venues Section -->
    <section class="venues-section">
        <div class="section-header">
            <h2 class="section-title">Your Venues</h2>
            <button class="create-btn" id="create-venue-btn">Create New Venue</button>
        </div>

        <div class="venues-grid" id="venuesGrid">
            <!-- Dynamic Venues -->
            {% for venue in venues %}
            <div class="venue-card">
                <h3 class="venue-name">{{ venue.name }}</h3>
                <p class="venue-location">{{ venue.location }}</p>
                <div class="venue-actions">
                    <a href="{% url 'host:venue' venue.id %}" class="btn view-btn">View Details</a>
                </div>
            </div>
            {% empty %}
            <p class="no-venues">No venues available.</p>
            {% endfor %}
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <h2 class="section-title">Quick Stats</h2>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-title">Total Venues</div>
                <div class="stat-value" id="totalVenues">{{ venues|length }}</div>
            </div>
            <div class="stat-card">
                <div class="stat-title">Active Bookings</div>
                <div class="stat-value" id="activeBookings">{{ active_bookings }}</div>
            </div>
            <div class="stat-card">
                <div class="stat-title">Total Revenue</div>
                <div class="stat-value" id="totalRevenue">${{ total_revenue }}</div>
            </div>
        </div>
    </section>
</div>
{% endblock content %}

{% block js_imports %}
<script src="{% static 'new/js/dashboard.js' %}"></script>
<script>
    // Redirect to the create venue page when button is clicked
    document.getElementById('create-venue-btn').addEventListener('click', function() {
        window.location.href = "{% url 'host:create_venue' %}";
    });

</script>
{% endblock js_imports %}